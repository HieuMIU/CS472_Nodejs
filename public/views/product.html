<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>
    <header>
        <div class="left-header">
            <a href="/">
                <img class="logo" src="../static/images/node.js-logo.png" alt="home-page">
            </a>
            
            <p><b>Node js - Express</b></p>
        </div>
        <div class="right-header">
            <ul>
                <li><a href="/" class="right-header-text" title="Homepage">Homepage</a></li>
                <li><a href = "/users" class="right-header-text" title="User">User</a></li>
                <li><a href="/products" class="right-header-text" title="Product">Product</a></li>
            </ul>  
        </div>
    </header>
    <div class="banner">
        <p>Product</p>
    </div>
    <div class="body">     
        <div class = "left-body">
            <h2>Product List</h2>
            <a href="/products-add"><button class="black-button" type="button">Add Product</button></a>
            <table id = "product-table">
            </table>
        </div>  
        <div class="center-body"></div>
        <div class = "right-body">
            <h2>Node js - Express</h2>
            <img class="lesson" src="../static/images/express-1.PNG" alt="express-lesson">
            <img class="lesson" src="../static/images/express-2.PNG" alt="express-lesson">
        </div>
    </div>  
    <div class="footer">
        <p class="fade-p">Copyright 2020. All rights reserved.</p>
    </div>
    <script> 
        const currentUrl = window.location.origin;
        async function getProductList() {
            const response = await fetch(`${currentUrl}/get-all-products`);
            if(response.ok)
                document.getElementById('product-table').innerHTML = await response.text();
        }
        window.onload = getProductList;
    </script>
</body>
</html>